var e=document.querySelector("tbody"),t=document.querySelector(".game-score"),r=document.querySelector("button"),n=document.querySelector(".message-start"),o=document.querySelector(".message-win"),a=document.querySelector(".message-lose"),c=document.querySelector(".message-container"),l=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],d=l.reduce(function(e,t){return e+t.reduce(function(e,t){return e+t},0)},0),s=!1,i=!1;function u(){for(var e=Math.floor(4*Math.random()),t=Math.floor(4*Math.random());0!==l[e][t];)e=Math.floor(4*Math.random()),t=Math.floor(4*Math.random());l[e][t]=.1>Math.random()?4:2}document.addEventListener("keydown",function(e){if(s)switch(e.key){case"ArrowUp":!function(){for(var e=!1,t=0;t<l[0].length;t++)for(var r=0;r<l.length-1;r++){var n,o=l[r][t],a=l[r+1][t];a>0&&(0===o?(n=[a,0],l[r][t]=n[0],l[r+1][t]=n[1],r=-1,e=!0):o===a&&(l[r][t]*=2,l[r+1][t]=0,d+=l[r][t],e=!0))}e&&u()}();break;case"ArrowDown":!function(){for(var e=!1,t=0;t<l[0].length;t++)for(var r=l.length-1;r>0;r--){var n=l[r][t],o=l[r-1][t];o>0&&(0===n?(l[r][t]=o,l[r-1][t]=0,r=l.length,e=!0):n===o&&(l[r][t]*=2,l[r-1][t]=0,d+=l[r][t],e=!0))}e&&u()}();break;case"ArrowLeft":!function(){for(var e=!1,t=0;t<l.length;t++)for(var r=l[t].length-1;r>=0;r--){var n=l[t][r],o=l[t][r+1];o>0&&(0===n?(l[t][r]=o,l[t][r+1]=0,r=l[t].length,e=!0):n===o&&(l[t][r]*=2,l[t][r+1]=0,d+=l[t][r],e=!0))}e&&u()}();break;case"ArrowRight":!function(){for(var e=!1,t=0;t<l.length;t++)for(var r=1;r<l[t].length;r++){var n=l[t][r],o=l[t][r-1];o>0&&(0===n?(l[t][r]=o,l[t][r-1]=0,r=-1,e=!0):n===o&&(l[t][r]*=2,l[t][r-1]=0,d+=l[t][r],e=!0))}e&&u()}()}f()});var f=function(){t.innerHTML='\n    <span class="game-score">'.concat(d,"</span>\n  "),e.innerHTML="";for(var r=0;r<l.length;r++){var u=document.createElement("tr");u.classList.add("field-row");for(var f=0;f<l[r].length;f++){var h=l[r][f],m=document.createElement("td");m.textContent=0===h?"":h,m.classList.add("field-cell"),0===h?m.classList.add("field-cell"):m.classList.add("field-cell--".concat(h)),u.appendChild(m)}e.appendChild(u)}!function(){for(var e=0;e<l.length;e++)for(var t=0;t<l[e].length;t++)if(0===l[e][t]||t<l[e].length-1&&l[e][t]===l[e][t+1]||e<l.length-1&&l[e][t]===l[e+1][t])return;a.classList.remove("hidden")}(),l.some(function(e){return e.some(function(e){return 2048===e})})&&(i=!0),o.classList.toggle("hidden",!i),s?c.contains(n)&&c.removeChild(n):c.appendChild(n)};r.addEventListener("click",function(){s=!0,l=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],d=0,r.classList.add("restart"),r.textContent="Restart",u(),u(),f()});
//# sourceMappingURL=index.3fc72048.js.map
